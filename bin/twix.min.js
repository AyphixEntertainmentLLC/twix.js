((function(){var a,b,c;typeof module!="undefined"?c=require("moment"):c=window.moment;if(typeof c=="undefined")throw"Can't find moment";a=function(){function a(a,b,d){this.start=c(a),this.end=c(b),this.allDay=d}return a.prototype.sameDay=function(){return this.start.year()===this.end.year()&&this.start.month()===this.end.month()&&this.start.date()===this.end.date()},a.prototype.sameYear=function(){return this.start.year()===this.end.year()},a.prototype.countDays=function(){var a,b;return b=this.start.sod(),a=this.end.sod(),a.diff(b,"days")+1},a.prototype.daysIn=function(a){var b,c;return c=this.start.sod(),b=this.end.sod(),{next:function(){var a;return c>b?null:(a=c.clone(),c.add("days",1),a)},hasNext:function(){return c<=b}}},a.prototype.duration=function(){return this.allDay?this.sameDay()?"all day":this.start.from(this.end.clone().add("days",1),!0):this.start.from(this.end,!0)},a.prototype.past=function(){return this.allDay?this.end.eod()["native"]()<c()["native"]():this.end["native"]()<c()["native"]()},a.prototype.format=function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=this;k={groupMeridiems:!0,spaceBeforeMeridiem:!0,showDate:!0,showDayOfWeek:!1,twentyFourHour:!1,implicitMinutes:!0,yearFormat:"YYYY",monthFormat:"MMM",weekdayFormat:"ddd",dayFormat:"D",meridiemFormat:"A",hourFormat:"h",minuteFormat:"mm",allDay:"all day",explicitAllDay:!1},b(k,a||{}),h=[],k.twentyFourHour&&(k.hourFormat=k.hourFormat.replace("h","H")),j=k.showDate||!this.sameDay(),this.allDay&&this.sameDay()&&(!k.showDate||k.explicitAllDay)&&h.push({name:"all day simple",fn:function(){return k.allDay},slot:0,pre:" "}),j&&(this.start.year()!==c().year()||!this.sameYear())&&h.push({name:"year",fn:function(a){return a.format(k.yearFormat)},pre:", ",slot:4}),!this.allDay&&j&&h.push({name:"all day month",fn:function(a){return a.format(""+k.monthFormat+" "+k.dayFormat)},slot:2,pre:" "}),this.allDay&&j&&h.push({name:"month",fn:function(a){return a.format("MMM")},slot:2,pre:" "}),this.allDay&&j&&h.push({name:"date",fn:function(a){return a.format(k.dayFormat)},slot:3,pre:" "}),j&&k.showDayOfWeek&&h.push({name:"day of week",fn:function(a){return a.format(k.weekdayFormat)},pre:" ",slot:1}),k.groupMeridiems&&!k.twentyFourHour&&!this.allDay&&h.push({name:"meridiem",fn:function(a){return a.format(k.meridiemFormat)},slot:6,pre:k.spaceBeforeMeridiem?" ":""}),this.allDay||h.push({name:"time",fn:function(a){var b;return b=a.minutes()===0&&k.implicitMinutes&&!k.twentyFourHour?a.format(k.hourFormat):a.format(""+k.hourFormat+":"+k.minuteFormat),!k.groupMeridiems&&!k.twentyFourHour&&(k.spaceBeforeMeridiem&&(b+=" "),b+=a.format(k.meridiemFormat)),b},pre:", ",slot:5}),m=[],e=[],d=[],n=!0,l=function(a){var b,c,g;return g=a.fn(q.start),b=a.fn(q.end),c={format:a,value:function(){return g}},b===g&&n?d.push(c):(n&&(n=!1,d.push({format:{slot:a.slot,pre:""},value:function(){return""+f(m)+" -"+f(e,!0)}})),m.push(c),e.push({format:a,value:function(){return b}}))};for(o=0,p=h.length;o<p;o++)g=h[o],g.skip!==!0&&l(g);return i=!0,f=function(a,b){var c,d,e,f,g,h;c=!0,e="",h=a.sort(function(a,b){return a.format.slot-b.format.slot});for(f=0,g=h.length;f<g;f++)d=h[f],i||(c&&b?e+=" ":e+=d.format.pre),e+=d.value(),i=!1,c=!1;return e},f(d)},a}(),b=function(a,b){var c,d;d=[];for(c in b)typeof b[c]!="undefined"?d.push(a[c]=b[c]):d.push(void 0);return d},typeof module!="undefined"?module.exports=a:window.Twix=a})).call(this);